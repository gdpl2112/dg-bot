<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/css/libs/http_cdn.jsdelivr.net_npm_bootstrap@4.6.2_dist_css_bootstrap.css"
          crossorigin="anonymous">
    <link rel="stylesheet" href="/css/main.css">
    <script src="/js/libs/axios.js"></script>
    <script src="/js/libs/vue.js"></script>
    <script src="/js/libs/jq3.6.js"></script>
    <style>
        .card-img-top {
            border-radius: 5px 5px 0 0;
        }

        .card {
            transition: transform 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
        }
    </style>
    <title>QQ代挂</title>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light tm-0">
    <a class="navbar-brand" href="/">
        <img style="opacity: 0.86;max-width: 50px; border-radius: 999px"
             class="navbar-brand" src="/icon" alt="qq"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="/">QQ代挂 <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="http://kloping.top/">kloping's</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled">更多功能;敬请期待.</a>
            </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
            <a class="dropdown-item" target="_blank" href="https://github.com/gdpl2112/dg-bot">
                <img style="opacity: 0.86;max-width: 35px" alt="github" loading="lazy"
                     src="https://s.nmxc.ltd/sakurairo_vision/@2.6/display_icon/sora/github.png">
                github 开源地址
            </a>
        </form>
    </div>
</nav>
<br>
<br>
<br>
<div class="tm-1 jumbotron jumbotron-fluid">
    <div class="container">
        <h3 class="display-6">已登录的 Bot 列表</h3>
        <div id="bot-list" class="row">
            <!-- 动态加载的 Bot 列表 -->
            <div class="col-12 text-center">
                <div class="spinner-border text-primary" role="status">
                    <span class="sr-only">加载中...</span>
                </div>
            </div>
        </div>
    </div>
</div>

<br>
<br>
<div class="container tm-0">
    <div class="row">
        <p class="col" style="color: rgb(253,226,226);background-color: rgba(171,171,163,0.56);border-radius: 5px"
           role="alert">
            点击下方 '现在开始'
        </p>
    </div>
</div>
<br>
<br>
<div class="container tm-0">
    <div class="row">
        <div class="col align-self-center">
            <a href="/join.html" type="button" class="btn btn-lg btn-block btn-outline-success" onclick="">现在开始</a>
        </div>
    </div>
</div>
<br>
<div class="container tm-0">
    <div class="row">
        <div class="col align-self-center">
            <a href="/bot.html" type="button" class="btn btn-lg btn-block btn-outline-success" onclick="">个人信息</a>
        </div>
    </div>
</div>

<script>
    window.onload = function () {
        fetch('/pre/bot/list')
            .then(response => response.json())
            .then(bots => {
                const container = document.getElementById('bot-list');
                container.innerHTML = bots.map(bot => `
                <div class="col-md-4 mb-3">
                    <div class="card ${bot.online ? 'border-success' : 'border-secondary'}">
                        <img src="${bot.avatar}"
                             class="card-img-top"
                             style="height: 200px; object-fit: cover"
                             alt="Bot头像">
                        <div class="card-body">
                            <h5 class="card-title">
                                ${bot.nick}
                                <span class="badge ${bot.online ? 'bg-success' : 'bg-secondary'}">
                                    ${bot.online ? '在线' : '离线'}
                                </span>
                            </h5>
                            <p class="card-text text-muted">ID: ${bot.id}</p>
                        </div>
                    </div>
                </div>
            `).join('');
            });
    }
</script>
<br>
<hr>
<br>
<script src="/js/libs/http_cdn.jsdelivr.net_npm_jquery@3.5.1_dist_jquery.slim.min.js" crossorigin="anonymous"></script>
<script src="/js/libs/http_cdn.jsdelivr.net_npm_bootstrap@4.6.2_dist_js_bootstrap.bundle.js"
        crossorigin="anonymous"></script>
</body>
</html>